<!-- order_confirmation.html -->
{% extends "orders/base.html" %}

{% block content %}
<div class="container text-center mt-5">
  <div class="card shadow p-4">
    <h2 class="text-success">ðŸŽ‰ Order Successful!</h2>
    <p>Thank you, <strong>{{ order.full_name }}</strong>! Your order has been received.</p>
    <p><strong>Order ID:</strong> #{{ order.id }}</p>
    <p><strong>Total Amount:</strong> {{ order.total_price }} RWF</p>
    <p>Status: <span class="badge bg-warning text-dark">{{ order.status }}</span></p>
    {% if payment %}
      <p class="mb-0"><strong>Payment Method:</strong> {{ payment.get_method_display }}</p>
      <p><strong>Payment Status:</strong> {{ payment.status|title }}</p>
    {% endif %}

    <hr>
    <h5>Items Ordered:</h5>
    <ul class="list-group mb-3">
      {% for oi in order_items %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ oi.item.name }} (x{{ oi.quantity }})
        <span>{{ oi.price }} RWF</span>
      </li>
      {% empty %}
      <li class="list-group-item">No items in this order.</li>
      {% endfor %}
    </ul>

    <a href="{% url 'orders:my_orders' %}" class="btn btn-primary">Go to My Orders</a>
  </div>
</div>
{% endblock %}